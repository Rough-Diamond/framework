/* * Copyright (c) 2008, 2009 *  Rough Diamond Co., Ltd.              -- http://www.rough-diamond.co.jp/ *  Information Systems Institute, Ltd.  -- http://www.isken.co.jp/ *  All rights reserved. */package jp.rough_diamond.commons.lang.ref;import java.lang.ref.ReferenceQueue;import java.lang.ref.WeakReference;/** * Referent“¯m‚Å“¯’l”äŠr‚ğs‚¤WeakReference */public class WeakReferenceExt<T> extends WeakReference<T> {    public WeakReferenceExt(T referent, ReferenceQueue<? super T> q) {        super(referent, q);    }    public WeakReferenceExt(T referent) {        super(referent);    }    @SuppressWarnings("unchecked")	@Override    public boolean equals(Object obj) {        if(this == obj) {            return true;        }        if(obj == null) {            return false;        }        if(!(obj instanceof WeakReferenceExt)) {            return false;        }        WeakReferenceExt reference = (WeakReferenceExt)obj;        T referent = get();        if(referent == null) {            return false;        } else {            return referent.equals(reference.get());        }    }    @Override    public int hashCode() {        T referent = get();        if(referent == null) {            return super.hashCode();        } else {            return referent.hashCode();        }    }}